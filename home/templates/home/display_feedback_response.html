{% extends 'home/base.html' %} {% block title %}Feedback Response | VisionWare{% endblock %}
 {% block head %} 
 {% load static %} 
 <script type="text/javascript" src="https://www.gstatic.com/charts/loader.js"></script>
 {% endblock %} 

 {% block body %}
<div class="container">
<div style="margin: 10px 0 0 10px;width: 1000px">
<p>Batch :{{batch.batch_name}} </p>
		
   <p> <h3>{{question.question_name}}</h3> </p>
    <p><h5>Responses</h5> </p>
    <div style="margin: 2px;">
    {% if question.question_type == "rating"  %}
    <div id="piechart_3d" style="width: 900px; height: 500px;"></div>
    {% else %}
    <div class="list-group">
    {% for i in response %}
          <li class="list-group-item">{{i.response}}</li>
     {% endfor %}
      </div>
    {% endif %}
		</div>
		
</div>
{% endblock %}


{% block script%}
<script type="text/javascript">
      google.charts.load("current", {packages:["corechart"]});
      google.charts.setOnLoadCallback(drawChart);
      function drawChart() {
        var data = google.visualization.arrayToDataTable(
[
       ['Rate', 'No of students'],
       {% for key,value in data.items  %}
       ['Rate {{ key }}', {{ value }}],
       {% endfor %}
      ]);

        var options = {
          title: 'Feedback',
          is3D: true,
        };

        var chart = new google.visualization.PieChart(document.getElementById('piechart_3d'));
        chart.draw(data, options);
      }
    
 
</script>
{% endblock %}