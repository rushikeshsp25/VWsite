{% extends 'home/base.html' %} {% block title %}Feedback Questions | VisionWare{% endblock %}
 {% block head %} 
 {% load static %} 
 <script type="text/javascript" src="https://www.gstatic.com/charts/loader.js"></script>
 {% endblock %} 
 {% block body %}
<section class="container mt-4 mb-4" style="margin: 2%;">
    <p class="section-heading">Batch : {{batch.batch_name}}</p>
<hr>
<div class="section-body">
<p>Overall Feedback Analysis</p>
<center><div id="piechart_3d" style="width: 600px; height: 400px; border-style: solid; border-width: 1px;" ></div></center>
<hr>
<p>Questions:</p>
    <div class="list-group">
    {% for i in feedback_questions %}
         <a href="{% url 'home:feedback_analysis_response' batch_id=batch.id question_id=i.id  %}" class="list-group-item list-group-item-action">{{i.question_name}}</a>
     {% endfor %}
      </div>
    </div>
</div>
</section>
{% endblock %}




{% block script%}
<script type="text/javascript">
      google.charts.load("current", {packages:["corechart"]});
      google.charts.setOnLoadCallback(drawChart);
      function drawChart() {
        var data = google.visualization.arrayToDataTable(
[
       ['Rate', 'No of students'],
       {% for key,value in data.items  %}
       ['Rate {{ key }}', {{ value }}],
       {% endfor %}
      ]);

        var options = {
          title: 'Feedback',
          is3D: true,
        };

        var chart = new google.visualization.PieChart(document.getElementById('piechart_3d'));
        chart.draw(data, options);
      }
    
 
</script>
{% endblock %}